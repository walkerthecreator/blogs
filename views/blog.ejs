<%- include("head.ejs")%>

<!-- input fields -->
<!-- Button trigger modal -->


<div class=" container w-50 mt-5 d-grid gap-2">
        <button
        type="button"
        class="btn btn-dark"
        data-bs-toggle="modal"
        data-bs-target="#exampleModal"
        >
            Add new Blog
        </button>
  </div>

<!-- Modal -->
<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Create new blog</h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">

        <form method="post">
          <div class="input-group mb-3 input-group-lg">
            <span class="input-group-text" id="basic-addon1">Title</span>
            <input
              type="text"
              class="form-control"
              placeholder="Enter Title"
              name="title"
              aria-label="Username"
              aria-describedby="basic-addon1"
            />
          </div>

          <div class="mb-3">
            <label for="exampleFormControlTextarea1" class="form-label"
              >Blog content</label
            >
            <textarea
              class="form-control"
              id="exampleFormControlTextarea1"
              rows="3"
              name="content"
            ></textarea>
          </div>
        
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
          cancel
        </button>
        <button type="submit" class="btn btn-primary">Post</button>
      </div>
    </form>
    </div>
  </div>
</div>


<div class="container w-100 d-flex flex-wrap justify-content-around mt-3 gap-5">
<% for(let i of blog) {%>

        <div class="card w-25 ">
            
          <div class="card-header d-flex justify-space-between"> 
            <a href="/blogs/<%= i._id %>" class="h5 text-dark text-decoration-none">
                <h5><%= i.title %></h5>
                 </a>
                <div class="ms-auto">
                    <a class="text-primary ms-auto px-2" href="/blogs/update/<%= i._id %>"><i class="fa-solid fa-pen"></i></a>
                    <a class="text-danger ms-auto" href="/blogs/delete/<%= i._id %>"><i class="fa fa-solid fa-trash"></i></a>
                </div>
            </div>
          <div class="card-body">

            <blockquote class="blockquote mb-0">
              <p><%= i.content %></p>
              <footer class="blockquote-footer"><%= i.user.email %></footer>
            </blockquote>
            
            <% if(i.isEdited) { %>
                <span class="badge bg-secondary float-end">edited</span>
                <% } %>

          </div>
        </div>

    <% } %>
</div>



<%- include("body.ejs")%>
